{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u9879\\u76EE\\\\HTML+JS\\\\React\\u4F5C\\u4E1A\\\\code15(\\u6709\\u673A\\u7279\\u4EA7\\u54C1\\u548C\\u5C0F\\u89C4\\u6A21\\u517B\\u6B96)\\\\src\\\\page\\\\Details.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { Menu, notification, Input, Button, List, Avatar, Select, Table, Divider, Tag } from 'antd';\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport '../style.css';\nimport Header from '../commpont/Header';\nimport Footer from '../commpont/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Details(props) {\n  _s();\n  const {\n    SubMenu\n  } = Menu;\n  const {\n    Option\n  } = Select;\n  const navigation = useLocation();\n  const navigate = useNavigate();\n  const imdbID = navigation.search.split(\"=\")[1];\n  const [movie, setMovie] = useState({});\n  useEffect(() => {\n    $.ajax({\n      type: \"get\",\n      url: \"http://sefdb02.qut.edu.au:3000/movies/data/\" + imdbID,\n      success: function (data) {\n        console.log(data);\n        setMovie(data);\n      },\n      error: function (data) {\n        openNotificationWithIcon('error', 'Error', \"Unknown error occurred\");\n      }\n    });\n  }, []);\n  const columns = [{\n    title: 'Role',\n    dataIndex: 'category',\n    key: 'category'\n  }, {\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    render: (text, key) => /*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: openPeople,\n      name: key.id,\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }, this)\n  }, {\n    title: 'Characters',\n    dataIndex: 'characters',\n    key: 'characters'\n  }];\n  const openNotificationWithIcon = (type, title, text) => {\n    notification[type]({\n      message: title,\n      description: text\n    });\n  };\n  const openPeople = e => {\n    var bearerToken = localStorage.getItem(\"bearerToken\");\n    if (bearerToken != null) {\n      navigate(\"/people?peopleId=\" + e.target.name);\n    } else {\n      openNotificationWithIcon('error', 'Login Tips', 'Please log in first and then check');\n    }\n  };\n  const tableChange = e => {\n    console.log(e);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"details_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details_box_content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left_box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Released in:\", movie.year]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Runtime: \", movie.runtime, \" minutes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Country:\", movie.country]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: movie.plot\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right_box\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: movie.poster\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: movie.principals,\n          onChange: tableChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(Details, \"z9oL6rOWa8ntdLdUhnXyiMBwQ1Y=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Details;\nexport default Details;\nvar _c;\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Menu","notification","Input","Button","List","Avatar","Select","Table","Divider","Tag","Link","useNavigate","useLocation","Header","Footer","Details","props","SubMenu","Option","navigation","navigate","imdbID","search","split","movie","setMovie","$","ajax","type","url","success","data","console","log","error","openNotificationWithIcon","columns","title","dataIndex","key","render","text","openPeople","id","message","description","e","bearerToken","localStorage","getItem","target","name","tableChange","year","runtime","country","plot","poster","principals"],"sources":["D:/项目/HTML+JS/React作业/code15(有机特产品和小规模养殖)/src/page/Details.js"],"sourcesContent":["import React, { useState,useEffect, useMemo } from \"react\";\r\nimport { Menu,notification,Input,Button, List, Avatar ,Select,Table, Divider, Tag  } from 'antd';\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport '../style.css';\r\nimport Header from '../commpont/Header';\r\nimport Footer from '../commpont/Footer';\r\n\r\n\r\nfunction Details(props) {\r\n  const { SubMenu } = Menu;\r\n  const { Option } = Select;\r\n  const navigation = useLocation();\r\n  const navigate=useNavigate();\r\n  const imdbID=navigation.search.split(\"=\")[1];\r\n  const [movie,setMovie]=useState({});\r\n  useEffect(()=>{\r\n    $.ajax({\r\n      type:\"get\",\r\n      url:\"http://sefdb02.qut.edu.au:3000/movies/data/\"+imdbID,\r\n      success:function(data){\r\n        console.log(data);\r\n        setMovie(data);\r\n      },\r\n      error:function(data){\r\n        openNotificationWithIcon('error','Error',\"Unknown error occurred\");\r\n      }\r\n    });\r\n  },[]);\r\n  \r\n\r\n  const columns = [\r\n    {\r\n      title: 'Role',\r\n      dataIndex: 'category',\r\n      key: 'category',\r\n    },\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: (text,key) => <a onClick={openPeople} name={key.id}>{text}</a>,\r\n    },\r\n    {\r\n      title: 'Characters',\r\n      dataIndex: 'characters',\r\n      key: 'characters',\r\n    },\r\n  ];\r\n\r\n  const openNotificationWithIcon = (type,title,text) => {\r\n    notification[type]({\r\n      message: title,\r\n      description:text,\r\n    });\r\n  };\r\n\r\n  const openPeople= e => {\r\n    var bearerToken=localStorage.getItem(\"bearerToken\");\r\n    if(bearerToken!=null){\r\n      navigate(\"/people?peopleId=\"+e.target.name);\r\n    }else{\r\n      openNotificationWithIcon('error','Login Tips','Please log in first and then check');\r\n    }\r\n  }\r\n  \r\n  const tableChange= e => {\r\n    console.log(e);\r\n  }\r\n \r\n\r\n  return (\r\n    <div>\r\n      <Header/>\r\n      <div className=\"details_box\">\r\n        <div className=\"details_box_content\">\r\n          <div className=\"left_box\">\r\n            <h1>{movie.title}</h1>\r\n            <p>Released in:{movie.year}</p>\r\n            <p>Runtime: {movie.runtime} minutes</p>\r\n            <p>Country:{movie.country}</p>\r\n            <p>\r\n              {movie.plot}\r\n            </p>\r\n          </div>\r\n          <div className=\"right_box\">\r\n              <img src={movie.poster}/>\r\n          </div>\r\n        </div>\r\n        \r\n        <div>\r\n          <Table columns={columns} dataSource={movie.principals} onChange={tableChange}/>\r\n        </div>\r\n      </div>\r\n      <Footer/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Details;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAACC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC1D,SAASC,IAAI,EAACC,YAAY,EAACC,KAAK,EAACC,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAACC,KAAK,EAAEC,OAAO,EAAEC,GAAG,QAAS,MAAM;AAChG,SAASC,IAAI,EAAEC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AACjE,OAAO,cAAc;AACrB,OAAOC,MAAM,MAAM,oBAAoB;AACvC,OAAOC,MAAM,MAAM,oBAAoB;AAAC;AAGxC,SAASC,OAAO,CAACC,KAAK,EAAE;EAAA;EACtB,MAAM;IAAEC;EAAQ,CAAC,GAAGjB,IAAI;EACxB,MAAM;IAAEkB;EAAO,CAAC,GAAGZ,MAAM;EACzB,MAAMa,UAAU,GAAGP,WAAW,EAAE;EAChC,MAAMQ,QAAQ,GAACT,WAAW,EAAE;EAC5B,MAAMU,MAAM,GAACF,UAAU,CAACG,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAAC5B,QAAQ,CAAC,CAAC,CAAC,CAAC;EACnCC,SAAS,CAAC,MAAI;IACZ4B,CAAC,CAACC,IAAI,CAAC;MACLC,IAAI,EAAC,KAAK;MACVC,GAAG,EAAC,6CAA6C,GAACR,MAAM;MACxDS,OAAO,EAAC,UAASC,IAAI,EAAC;QACpBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBN,QAAQ,CAACM,IAAI,CAAC;MAChB,CAAC;MACDG,KAAK,EAAC,UAASH,IAAI,EAAC;QAClBI,wBAAwB,CAAC,OAAO,EAAC,OAAO,EAAC,wBAAwB,CAAC;MACpE;IACF,CAAC,CAAC;EACJ,CAAC,EAAC,EAAE,CAAC;EAGL,MAAMC,OAAO,GAAG,CACd;IACEC,KAAK,EAAE,MAAM;IACbC,SAAS,EAAE,UAAU;IACrBC,GAAG,EAAE;EACP,CAAC,EACD;IACEF,KAAK,EAAE,MAAM;IACbC,SAAS,EAAE,MAAM;IACjBC,GAAG,EAAE,MAAM;IACXC,MAAM,EAAE,CAACC,IAAI,EAACF,GAAG,kBAAK;MAAG,OAAO,EAAEG,UAAW;MAAC,IAAI,EAAEH,GAAG,CAACI,EAAG;MAAA,UAAEF;IAAI;MAAA;MAAA;MAAA;IAAA;EACnE,CAAC,EACD;IACEJ,KAAK,EAAE,YAAY;IACnBC,SAAS,EAAE,YAAY;IACvBC,GAAG,EAAE;EACP,CAAC,CACF;EAED,MAAMJ,wBAAwB,GAAG,CAACP,IAAI,EAACS,KAAK,EAACI,IAAI,KAAK;IACpDxC,YAAY,CAAC2B,IAAI,CAAC,CAAC;MACjBgB,OAAO,EAAEP,KAAK;MACdQ,WAAW,EAACJ;IACd,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,UAAU,GAAEI,CAAC,IAAI;IACrB,IAAIC,WAAW,GAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACnD,IAAGF,WAAW,IAAE,IAAI,EAAC;MACnB3B,QAAQ,CAAC,mBAAmB,GAAC0B,CAAC,CAACI,MAAM,CAACC,IAAI,CAAC;IAC7C,CAAC,MAAI;MACHhB,wBAAwB,CAAC,OAAO,EAAC,YAAY,EAAC,oCAAoC,CAAC;IACrF;EACF,CAAC;EAED,MAAMiB,WAAW,GAAEN,CAAC,IAAI;IACtBd,OAAO,CAACC,GAAG,CAACa,CAAC,CAAC;EAChB,CAAC;EAGD,oBACE;IAAA,wBACE,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAE,eACT;MAAK,SAAS,EAAC,aAAa;MAAA,wBAC1B;QAAK,SAAS,EAAC,qBAAqB;QAAA,wBAClC;UAAK,SAAS,EAAC,UAAU;UAAA,wBACvB;YAAA,UAAKtB,KAAK,CAACa;UAAK;YAAA;YAAA;YAAA;UAAA,QAAM,eACtB;YAAA,WAAG,cAAY,EAACb,KAAK,CAAC6B,IAAI;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC/B;YAAA,WAAG,WAAS,EAAC7B,KAAK,CAAC8B,OAAO,EAAC,UAAQ;UAAA;YAAA;YAAA;YAAA;UAAA,QAAI,eACvC;YAAA,WAAG,UAAQ,EAAC9B,KAAK,CAAC+B,OAAO;UAAA;YAAA;YAAA;YAAA;UAAA,QAAK,eAC9B;YAAA,UACG/B,KAAK,CAACgC;UAAI;YAAA;YAAA;YAAA;UAAA,QACT;QAAA;UAAA;UAAA;UAAA;QAAA,QACA,eACN;UAAK,SAAS,EAAC,WAAW;UAAA,uBACtB;YAAK,GAAG,EAAEhC,KAAK,CAACiC;UAAO;YAAA;YAAA;YAAA;UAAA;QAAE;UAAA;UAAA;UAAA;QAAA,QACvB;MAAA;QAAA;QAAA;QAAA;MAAA,QACF,eAEN;QAAA,uBACE,QAAC,KAAK;UAAC,OAAO,EAAErB,OAAQ;UAAC,UAAU,EAAEZ,KAAK,CAACkC,UAAW;UAAC,QAAQ,EAAEN;QAAY;UAAA;UAAA;UAAA;QAAA;MAAE;QAAA;QAAA;QAAA;MAAA,QAC3E;IAAA;MAAA;MAAA;MAAA;IAAA,QACF,eACN,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAE;EAAA;IAAA;IAAA;IAAA;EAAA,QACL;AAEV;AAAC,GAxFQrC,OAAO;EAAA,QAGKH,WAAW,EACfD,WAAW;AAAA;AAAA,KAJnBI,OAAO;AA0FhB,eAAeA,OAAO;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}